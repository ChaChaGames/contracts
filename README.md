# contracts

                                                           合约文档说明

1、CHACHA代币 总量275亿，分10年全部挖出。代币分配 50%节点挖矿，20%NFT(前期为盲盒挖矿)，20%项目运营，10%LP挖矿。挖矿随时间流逝不断产出。每一个时间段的奖励，当有人提取奖励时，从CHACHA合约铸币，按照比例 50% ，20%，20%，10%的比例流向节点挖矿资金池，NFT挖矿资金池，LP挖矿资金池，项目方地址。
2、DAO合约需要配置 矿池的铸币权限。总共4个地址拥有铸币权限。节点资金池，NFT挖矿资金池，LP挖矿资金池，项目方地址。无论哪一个调铸币，都会按照比例 50% ，20%，20%，10% 分别流向对应的地址。

3、节点挖矿流程。合约部分只有提取奖励接口，销毁接口，用户转入手续费接口。 提取奖励流程为，

用户调用claim 接口转入手续费，服务器监听该接口，一旦监听到用户转入了手续费。则查询数据库该用户的奖励。然后调用 提取奖励接口 给用户转 CHACHA代币。是否需要销毁，什么时候销毁。由服务器自行决定调用销毁接口即可。

4、NFT挖矿流程，用户质押盲盒，质押进来即产生收益。按时间流逝计算用户的收益。用户提取奖励的时候从NFT挖矿资金池调用资金。

需要配置 盲盒的合约地址，盲盒的tokenId。 盲盒的挖矿收益不得高于 节点的百分60.

5、LP挖矿 质押LP。质押进来即产生收益。按时间流逝计算用户的收益。用户提取奖励的时候从LP挖矿资金池调用资金。

LP挖矿 年化测试阶段。存入LP过少。LP资金池资金量小。每年产生的LP挖矿奖励 5亿。质押的LP价值CHACHA偏低。年化会偏高。

6、小树苗售卖NFT。可以使用BUSDT 或CHACH 购买小树
苗NFT、 保证小树苗的唯一性使用了ERC721 协议、	可以通过更新NFT元数据文件,替换小树苗真实生图片。
合约发布设置:

1)	设置合约支付代币Token   合约payToken地址
2)	设置接收代币Token 地址  合约treasury地址
3)	设置售卖参数				
合约activatePublicSale  方法参数
uint256 _start  价格设置成1000000000000000000
uint256 _reserve 价格设置成1000000000000000000
uint256 _step设置成 1 
uint256 _timeRange设置成  1
4)	设置revealed可选,是否使用统一元数据或根据ID 返回元数据
5)	设置售卖状态
合约setPublicSaleActivated方法参数
bool _publicSaleActivated 售卖状态

7、NFT ERC721 交易市场。提供ERC721的限价出售、
买入、取消、修改价格等基础方法 
合约发布设置:
1)	设置交易手续费  合约feeRecipients地址
2)	设置手续费  		合约feePercentages
3)	设置支持支付的代币		合约payTokens


8、NFT ERC1155 交易市场。提供ERC1155的限价出售、
买入、取消、修改价格等基础方法 
合约发布设置:
1)	设置交易手续费  合约feeRecipients地址
2)	设置手续费  		合约feePercentages
3)	设置支持支付的代币		合约payTokens

8、盲盒发布工厂。官方或游戏商户发布盲盒, 使用的模版合约是ChaChaERC1155作为模版, ChaChaERC1155扩展了ERC1155 合约的功能, 提供了拆盲盒、随机属性等方法
合约发布设置:

8、盲盒发售。官方或游戏商户发售盲盒, 提供了创建盲盒发售、取消发售、修改价格、限制售卖时间、数量等方法
合约发布设置:
1)	设置售卖状态  合约publicSaleActivated地址
2)	设置是否启用限时售卖  		合约limitedTimeSaleActivated
3)	设置是否启用限量售卖		合约limitedAmountSaleActivated
4)	设置售卖时间		合约  saleStartTime
5)	设置售卖数量			合约  saleAmount
6)	设置售卖持续时间  	合约saleTime
7)	设置售卖周期		合约 diffDay

9、CHACHA节点出售。有50000 个节点可供出售,价格为5000BUSD,每销售增加100个价格上涨50BUSD ,可使用其它代币支付。可在合约内设置支付代币

合约发布设置:
1)	设置售卖状态  合约publicSaleActivated地址
2)	设置支付代币  	合约payToken
3)	设置接收代币地址	合约tokenRecipients

